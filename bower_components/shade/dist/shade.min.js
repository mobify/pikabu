/*! shade 1.1.1 (https://github.com/mobify/shade.git) */
(function(i){if("function"==typeof define&&define.amd)define(["$","plugin","velocity"],i);else{var o=window.Zepto||window.jQuery;i(o,window.Plugin,o.Velocity)}})(function(i,o,s){function t(i,o){t.__super__.call(this,i,o,t.DEFAULTS)}var n={SHADE:"shade",OPENED:"shade--is-open"},e={resize:"resize.shade",click:"click.shade"};return t.VERSION="1.1.1",t.DEFAULTS={cover:document.body,color:"black",opacity:"0.25",duration:150,easing:"swing",padding:0,zIndex:1,cssClass:"",click:function(){this.close()},open:i.noop,opened:i.noop,close:i.noop,closed:i.noop},o.create("shade",t,{_init:function(o){var s=this;this.$element=i(o),this.isBody=i(this.options.cover).is("body"),this.$shade=i("<div />").addClass(n.SHADE).addClass(this.options.cssClass).css({background:this.options.color?this.options.color:"",opacity:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"}).hide().on(e.click,function(){s.options.click&&s.options.click.call(s)}).insertAfter(this.$element),this._resize=function(){s.$shade.hasClass(n.OPENED)&&s.setPosition.call(s)},i(window).on(e.resize,this._resize)},destroy:function(){i(window).off(e.resize,this._resize),this.$element.removeData(this.name),this.$shade.remove()},open:function(){var i=this;this._trigger("open"),this.setPosition(),s.animate(this.$shade,{opacity:this.options.opacity},{display:"block",duration:this.options.duration,easing:this.options.easing,complete:function(){i.$shade.addClass(n.OPENED).on("touchmove",function(){return!1}),i._trigger("opened")}})},close:function(){var i=this;this._trigger("close"),s.animate(this.$shade,"reverse",{display:"none",duration:this.options.duration,easing:this.options.easing,complete:function(){i.$shade.removeClass(n.OPENED).off("touchmove"),i._trigger("closed")}})},setPosition:function(){var i=this.$element,o=this.isBody?"auto":i.width(),s=this.isBody?"auto":i.height(),t=this.isBody?"fixed":"absolute";this.$shade.css({left:this.options.padding?-this.options.padding:0,top:this.options.padding?-this.options.padding:0,bottom:this.options.padding?-this.options.padding:0,right:this.options.padding?-this.options.padding:0,width:this.options.padding?o-this.options.padding:o,height:this.options.padding?s-this.options.padding:s,position:t,padding:this.options.padding,zIndex:this.options.zIndex||i.css("zIndex")+1})}}),i});